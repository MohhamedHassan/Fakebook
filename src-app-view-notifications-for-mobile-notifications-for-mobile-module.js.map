{"version":3,"sources":["./src/app/view/notifications-for-mobile/notifications/notifications.component.html","./src/app/view/notifications-for-mobile/notifications/notifications.component.ts","./src/app/view/notifications-for-mobile/notifications-for-mobile.module.ts","./src/app/view/notifications-for-mobile/notifications-for-mobile-routing.module.ts"],"names":[],"mappings":"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","file":"src-app-view-notifications-for-mobile-notifications-for-mobile-module.js","sourcesContent":["<div \r\n[class.darkMode]=\"userProfilesService.userProfile?.darkMode\"\r\nclass=\"notificationsMobile\"\r\n\r\n>\r\n    <div \r\n\r\nclass=\"container-fluid py-5 \">\r\n <div style=\"margin-left: 20px;margin-right: 20px;\">\r\n    <h1 class=\"font-weight-bold\">{{'notificationsMobile.notificatios' | translate}}</h1>\r\n    <ul class=\"m-0 list-unstyled p-0\">\r\n        <li>\r\n            <ng-container  *ngIf=\"!userProfilesService?.myNotifications?.length && \r\n            !userProfilesService?.oldNotifications?.length;else notificationsContent\">\r\n                <p>{{'notificationsMobile.noNotifications' | translate}}</p>\r\n            </ng-container>\r\n        </li>\r\n        <ng-template #notificationsContent>\r\n        <li class=\"mb-3\" \r\n        *ngFor=\"let item of userProfilesService?.myNotifications\">\r\n                   <div \r\n                   (click)=\"openNotification(item?._id,item?.post)\"\r\n                   *ngIf=\"item?.type !='follow' \"\r\n                   class=\"d-flex align-items-center\">\r\n                       <div class=\"position-relative\">\r\n                           <img class=\"mainIMG\" [src]=\"item?.sender?.profilePhoto | gender : item?.sender?.gender\" alt=\"\">\r\n                           <i *ngIf=\"item?.type=='comment';else react\" class=\"fas fa-comment-alt nav\"></i>\r\n                         <ng-template #react>\r\n                            <img class=\"notificationImg\" [src]=\"'assets/'+item?.type+'.png'\" alt=\"\">\r\n                         </ng-template>       \r\n                       </div>\r\n                       <div class=\"mx-3 w-100\">\r\n                          <strong>\r\n                            {{item?.sender?.firstName | slice : 0 : 12}} {{item?.sender?.lastName | slice : 0 : 12}}\r\n                          </strong> {{(item?.type==\"comment\" ? \"notificationsMobile.commentedOn\": \"notificationsMobile.reactedTo\") | translate }} {{'notificationsMobile.yourPost' | translate}} \r\n                          <div class=\"d-flex justify-content-between align-items-center\">\r\n                            <small> {{item?.createdAt | date : 'longDate' : undefined : lang}}</small>\r\n                            <span class=\"sign bg-primary\"></span>\r\n                          </div>\r\n                       </div>\r\n                   </div>\r\n                   <div \r\n                   (click)=\"openFollowNotification(item?.sender?._id,item?._id)\"\r\n                   *ngIf=\"item?.type =='follow' \"\r\n                   class=\"d-flex align-items-center\">\r\n                       <div class=\"position-relative\">\r\n                           <img class=\"mainIMG\" [src]=\"item?.sender?.profilePhoto | gender : item?.sender?.gender\" alt=\"\">\r\n                           <i *ngIf=\"item?.type=='follow'\" class=\"fas fa-user nav\"></i>    \r\n                       </div>\r\n                       <div class=\"mx-3 w-100\">\r\n                          <strong>\r\n                            {{item?.sender?.firstName | slice : 0 : 12}} {{item?.sender?.lastName | slice : 0 : 12}}\r\n                          </strong> {{'notificationsMobile.isFollowingYou' | translate}}\r\n                          <div class=\"d-flex justify-content-between align-items-center\">\r\n                            <small> {{item?.createdAt | date : 'longDate' : undefined : lang }}</small>\r\n                            <span class=\"sign bg-primary\"></span>\r\n                          </div>\r\n                       </div>\r\n                   </div>\r\n        </li>\r\n        <li class=\"mb-3\" \r\n        *ngFor=\"let item of userProfilesService?.oldNotifications\">\r\n                   <div \r\n                   (click)=\"openNotification(item?._id,item?.post)\"\r\n                   *ngIf=\"item?.type !='follow' \"\r\n                   class=\"d-flex align-items-center\">\r\n                       <div class=\"position-relative\">\r\n                           <img class=\"mainIMG\" [src]=\"item?.sender?.profilePhoto | gender : item?.sender?.gender\" alt=\"\">\r\n                           <i *ngIf=\"item?.type=='comment';else react\" class=\"fas fa-comment-alt nav\"></i>\r\n                         <ng-template #react>\r\n                            <img class=\"notificationImg\" [src]=\"'assets/'+item?.type+'.png'\" alt=\"\">\r\n                         </ng-template>\r\n                       </div>\r\n                       <div class=\"mx-3 w-100\">\r\n                          <strong>\r\n                            {{item?.sender?.firstName | slice : 0 : 12}} {{item?.sender?.lastName | slice : 0 : 12}}\r\n                          </strong>\r\n                           {{(item?.type==\"comment\" ? \"notificationsMobile.commentedOn\" : \"notificationsMobile.reactedTo\") | translate}}  {{'notificationsMobile.yourPost' | translate}}\r\n                          <div class=\"d-flex justify-content-between align-items-center\">\r\n                            <small> {{item?.createdAt | date : 'longDate' : undefined : lang }}</small>\r\n                          </div>\r\n                       </div>\r\n                   </div>\r\n                   <div \r\n                   (click)=\"openFollowNotification(item?.sender?._id,item?._id)\"\r\n                   *ngIf=\"item?.type =='follow' \"\r\n                   class=\"d-flex align-items-center\">\r\n                       <div class=\"position-relative\">\r\n                           <img class=\"mainIMG\" [src]=\"item?.sender?.profilePhoto | gender : item?.sender?.gender\" alt=\"\">\r\n                           <i *ngIf=\"item?.type=='follow'\" class=\"fas fa-user nav\"></i>    \r\n                       </div>\r\n                       <div class=\"mx-3 w-100\">\r\n                          <strong>\r\n                            {{item?.sender?.firstName | slice : 0 : 12}} {{item?.sender?.lastName | slice : 0 : 12}}\r\n                          </strong>  {{'notificationsMobile.isFollowingYou' | translate}}\r\n                          <div class=\"d-flex justify-content-between align-items-center\">\r\n                            <small> {{item?.createdAt | date : 'longDate' : undefined : lang }}</small>\r\n                          </div>\r\n                       </div>\r\n                   </div>\r\n        </li>\r\n    </ng-template> \r\n    </ul>\r\n </div>\r\n  \r\n</div>\r\n</div>","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { CommentSocketService } from 'src/app/services/comment-socket.service';\r\nimport { UserProfileService } from 'src/app/services/user-profile.service';\r\n\r\n@Component({\r\n  selector: 'app-notifications',\r\n  templateUrl: './notifications.component.html',\r\n  styleUrls: ['./notifications.component.scss']\r\n})\r\nexport class NotificationsComponent implements OnInit , OnDestroy {\r\n  subscription:Subscription\r\n  translationSub:Subscription\r\n  constructor(public userProfilesService:UserProfileService,\r\n    private commentService:CommentSocketService,\r\n    private router:Router,\r\n    private title:Title,\r\n    private translate:TranslateService) { }\r\n    get lang() {return localStorage.getItem(\"currenLanguage\") || \"en\"}\r\n  ngOnInit(): void {\r\n    window.scroll(0,0)\r\n    this.translationSub = this.translate.get('youMayKnow.snackBarTwo').subscribe(res => {\r\n        this.title.setTitle(res)\r\n     })\r\n    this.getMyNotifications()\r\n  }\r\n  getMyNotifications() {\r\n    this.subscription = this.userProfilesService.getMyNotifications().subscribe(\r\n      (res:any) => {\r\n        this.userProfilesService.myNotifications=res?.newNotification\r\n        console.log(this.userProfilesService.myNotifications)\r\n      },\r\n      err => {}\r\n    )\r\n  }\r\n  openNotification(id:any,postId:any) {\r\n    let audio = new Audio()\r\n    audio.src = \"assets/Facebook Louder.mp3\";\r\n    audio.load();\r\n    audio.play();\r\n    this.commentService.emit(\"opened\",{\r\n       id:id\r\n    }).then(\r\n      res => {\r\n          this.router.navigate([\"/postDetails\",postId])\r\n      } , err => {\r\n        this.router.navigate([\"/error\"])\r\n      }\r\n    )\r\n  \r\n  }\r\n  openFollowNotification(userId:any,id:any) {\r\n    this.commentService.emit(\"opened\",{\r\n     id\r\n   }).then(\r\n     res => {\r\n         this.router.navigate([\"/visit\",userId])\r\n         this.commentService.showFollowNotification=false\r\n         this.getMyNotifications()\r\n     } , err => {\r\n       this.router.navigate([\"/error\"])\r\n     }\r\n   )\r\n  }\r\n  ngOnDestroy() {\r\n    if (this.subscription) this.subscription.unsubscribe()\r\n    if (this.translationSub) this.translationSub.unsubscribe()\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { NotificationsForMobileRoutingModule } from './notifications-for-mobile-routing.module';\r\nimport { NotificationsComponent } from './notifications/notifications.component';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NotificationsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    NotificationsForMobileRoutingModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class NotificationsForMobileModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { NotificationsComponent } from './notifications/notifications.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component:NotificationsComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class NotificationsForMobileRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}